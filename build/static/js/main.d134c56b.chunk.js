(this.webpackJsonpbpm_cund_front=this.webpackJsonpbpm_cund_front||[]).push([[0],{15:function(e){e.exports=JSON.parse('{"BACKEND_SERVER":"http://eip-tstapp01:9090/app","ENVIRONMENT":"dev"}')},27:function(e,t,n){},29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(11),o=n.n(a),r=(n(27),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),a(e),o(e)}))}),i=n(8),u=n(14),l=n.n(u),j=n(22),b=n(9),p=n(19),h=n(15),d=(n(29),n(16)),f=n(1);function m(){return(m=Object(p.a)(l.a.mark((function e(t){var n,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL(h.BACKEND_SERVER+"/getlogs"),c={bpm:t},n.search=new URLSearchParams(c).toString(),console.log("fetch func:"+t),console.log(n.toString()),e.next=7,fetch(n).then((function(e){return console.log(e),e.json()})).catch((function(e){return console.log(e),{data:[],error:e}}));case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,n){console.log("message pop "+e);return Object(f.jsx)(d.a,{open:!0,modal:!0,closeOnDocumentClick:!0,onClose:function(){t(!1),n(!1)},children:Object(f.jsx)("span",{children:" messagegee mf "})})}var g=function(e){var t=s.a.useState(!1),n=Object(b.a)(t,2),c=n[0],a=n[1],o=s.a.useState([[]]),r=Object(b.a)(o,2),i=r[0],u=r[1],l=function(){(function(e){return m.apply(this,arguments)})(e.value).then((function(e){return e.data})).then((function(e){u(e)})).then(a(!0))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{id:e.value,className:"button_a button_b",onClick:function(){return l()},children:"Last Logs"}),Object(f.jsx)(d.a,{open:c,modal:!0,closeOnDocumentClick:!0,onClose:function(){return a(!1)},children:Object(f.jsx)("div",{className:"popup-content",children:i.map((function(e){return console.log(e),Object(f.jsx)("p",{className:"logs",children:e.query})}))})})]})},x=function(e){var t=s.a.useState(!1),n=Object(b.a)(t,2),c=n[0],a=n[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{id:e.value,className:"button_a button_b",onClick:function(){console.log("restart clicked"),a(!c)},children:"Restart"}),c?O("Restart",a):null]})};function v(e){var t=e.bpm,n=t.name,c=t.port,s=t.description,a=t.state,o=n.substring(3,6);return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:function(e){return"true"===e?"green_state":"red_state"}(a)}),Object(f.jsx)("p",{className:"inline",children:n}),Object(f.jsxs)("p",{className:"inline",children:["Port: ",c]}),Object(f.jsxs)("p",{className:"inline",children:["Desc: ",s]}),Object(f.jsx)(g,{value:o,className:"inline"}),Object(f.jsx)(x,{value:o,className:"inline"})]})}var N=function(){var e=s.a.useState([]),t=Object(b.a)(e,2),n=t[0],c=t[1];return s.a.useEffect((function(){fetch(h.BACKEND_SERVER+"/getall").then((function(e){e.json().then((function(e){console.log(e),e.data.forEach((function(e){c((function(t){return[].concat(Object(j.a)(t),[e])}))}))}))})).catch((function(e){return console.log(e)}))}),[]),Object(f.jsx)("div",{class:"container",children:n.map((function(e){return Object(f.jsx)(v,{bpm:e},e.name)}))})},E=n.p+"static/media/logo.6c593496.jpg",R=(n.p,function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"topnav",children:[Object(f.jsx)("img",{className:"logo",src:E,alt:"",width:"70",height:"81"}),Object(f.jsx)("h2",{children:"Pais BPM Administrator"})]})})});o.a.render(Object(f.jsxs)("div",{className:"main",children:[Object(f.jsx)(R,{}),Object(f.jsx)(i.BrowserRouter,{children:Object(f.jsxs)(i.Switch,{children:[Object(f.jsx)(i.Route,{exact:!0,path:"/",component:N}),Object(f.jsx)(i.Route,{exact:!0,path:"/bp",component:N})]})})]}),document.getElementById("root")),r()}},[[36,1,2]]]);
//# sourceMappingURL=main.d134c56b.chunk.js.map